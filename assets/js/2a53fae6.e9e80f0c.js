"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[53610],{13545:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>r,toc:()=>o});var d=n(74848),a=n(28453);const s={},l=void 0,r={id:"middleware/mysql/sample-sql",title:"sample-sql",description:"cleanup",source:"@site/docs/00600-middleware/mysql/100-sample-sql.md",sourceDirName:"00600-middleware/mysql",slug:"/middleware/mysql/sample-sql",permalink:"/dddtdd-docs/middleware/mysql/sample-sql",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1720187019e3,sidebarPosition:100,frontMatter:{},sidebar:"docSidebar",previous:{title:"backup-and-recovery",permalink:"/dddtdd-docs/middleware/mysql/backup-and-recovery"},next:{title:"\u65f6\u533a",permalink:"/dddtdd-docs/middleware/mysql/timezone"}},c={},o=[{value:"cleanup",id:"cleanup",level:2}];function i(e){const t={code:"code",h2:"h2",pre:"pre",...(0,a.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.h2,{id:"cleanup",children:"cleanup"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-sql",children:"SET SQL_SAFE_UPDATES = 0;\ndelete FROM database.table where timestamp < '2023-01-01';\n\nOPTIMIZE TABLE database.table;\n"})}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-sql",children:"SELECT * FROM database.table order by id desc LIMIT 0, 1000;\n\ndelete FROM database.table where id < ID_Value;\n"})})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,d.jsx)(t,{...e,children:(0,d.jsx)(i,{...e})}):i(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>r});var d=n(96540);const a={},s=d.createContext(a);function l(e){const t=d.useContext(s);return d.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),d.createElement(s.Provider,{value:t},e.children)}}}]);