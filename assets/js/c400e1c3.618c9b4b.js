"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[61022],{57374:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>l,frontMatter:()=>r,metadata:()=>s,toc:()=>u});var i=t(74848),a=t(28453);const r={},o="Waiting for the result of a Navigation",s={id:"frontend/vue3/router/advanced/navigation-failures",title:"Waiting for the result of a Navigation",description:"Detecting Navigation Failures",source:"@site/docs/00200-frontend/vue3/030-router/030-advanced/100-navigation-failures.md",sourceDirName:"00200-frontend/vue3/030-router/030-advanced",slug:"/frontend/vue3/router/advanced/navigation-failures",permalink:"/dddtdd-docs/frontend/vue3/router/advanced/navigation-failures",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1720187019e3,sidebarPosition:100,frontMatter:{},sidebar:"docSidebar",previous:{title:"Extending RouterLink",permalink:"/dddtdd-docs/frontend/vue3/router/advanced/extending-router-link"},next:{title:"Dynamic Routing",permalink:"/dddtdd-docs/frontend/vue3/router/advanced/dynamic-routing"}},d={},u=[{value:"Detecting Navigation Failures",id:"detecting-navigation-failures",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"waiting-for-the-result-of-a-navigation",children:"Waiting for the result of a Navigation"}),"\n",(0,i.jsx)(n.h2,{id:"detecting-navigation-failures",children:"Detecting Navigation Failures"}),"\n",(0,i.jsxs)(n.p,{children:["If a navigation is prevented, resulting in the user staying on the same page, the resolved value of the ",(0,i.jsx)(n.code,{children:"Promise"})," returned by ",(0,i.jsx)(n.code,{children:"router.push"})," will be a ",(0,i.jsx)(n.strong,{children:"Navigation Failure"}),". Otherwise, it will be a ",(0,i.jsx)(n.strong,{children:"falsy value (usually undefined)"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const navigationResult = await router.push('/my-profile')\r\n\r\nif (navigationResult) {\r\n  // navigation prevented\r\n} else {\r\n  // navigation succeeded (this includes the case of a redirection)\r\n  this.isMenuOpen = false\r\n}\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { NavigationFailureType, isNavigationFailure } from 'vue-router'\r\n\r\n// trying to leave the editing page of an article without saving\r\nconst failure = await router.push('/articles/2')\r\n\r\nif (isNavigationFailure(failure, NavigationFailureType.aborted)) {\r\n  // show a small notification to the user\r\n  showToast('You have unsaved changes, discard and leave anyway?')\r\n}\n"})})]})}function l(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>s});var i=t(96540);const a={},r=i.createContext(a);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);