"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[13917],{83396:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var s=n(74848),r=n(28453);const o={},c=void 0,i={id:"topic/test/httprunner/intro",title:"intro",description:"case\u751f\u6210",source:"@site/docs/00800-topic/test/httprunner/00100-intro.md",sourceDirName:"00800-topic/test/httprunner",slug:"/topic/test/httprunner/intro",permalink:"/dddtdd-docs/topic/test/httprunner/intro",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1720187019e3,sidebarPosition:100,frontMatter:{},sidebar:"docSidebar",previous:{title:"cplusplus",permalink:"/dddtdd-docs/topic/test/cplusplus"},next:{title:"concept",permalink:"/dddtdd-docs/topic/test/httprunner/concept"}},a={},d=[{value:"case\u751f\u6210",id:"case\u751f\u6210",level:2},{value:"\u5f55\u5236\u751f\u6210 HAR \u6587\u4ef6",id:"\u5f55\u5236\u751f\u6210-har-\u6587\u4ef6",level:3},{value:"\u8f6c\u6362\u751f\u6210\u6d4b\u8bd5\u7528\u4f8b",id:"\u8f6c\u6362\u751f\u6210\u6d4b\u8bd5\u7528\u4f8b",level:3},{value:"\u624b\u5de5\u7f16\u5199",id:"\u624b\u5de5\u7f16\u5199",level:3},{value:"\u63a5\u53e3\u6d4b\u8bd5",id:"\u63a5\u53e3\u6d4b\u8bd5",level:2},{value:"go test",id:"go-test",level:3},{value:"\u6027\u80fd\u6d4b\u8bd5",id:"\u6027\u80fd\u6d4b\u8bd5",level:2},{value:"\u591a\u673a\u8d1f\u8f7d",id:"\u591a\u673a\u8d1f\u8f7d",level:3}];function l(t){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"case\u751f\u6210",children:"case\u751f\u6210"}),"\n",(0,s.jsx)(e.p,{children:"\u652f\u6301\u4e0e HAR/Postman/Swagger/Curl/JMeter \u7b49\u5de5\u5177\u5bf9\u63a5"}),"\n",(0,s.jsx)(e.h3,{id:"\u5f55\u5236\u751f\u6210-har-\u6587\u4ef6",children:"\u5f55\u5236\u751f\u6210 HAR \u6587\u4ef6"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://httprunner.com/docs/user-guide/gen-tests/record/",children:"https://httprunner.com/docs/user-guide/gen-tests/record/"})}),"\n",(0,s.jsx)(e.h3,{id:"\u8f6c\u6362\u751f\u6210\u6d4b\u8bd5\u7528\u4f8b",children:"\u8f6c\u6362\u751f\u6210\u6d4b\u8bd5\u7528\u4f8b"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://httprunner.com/docs/user-guide/gen-tests/convert/",children:"https://httprunner.com/docs/user-guide/gen-tests/convert/"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"--to-json/--to-yaml/--to-gotest/--to-pytest"})," \u7528\u4e8e\u5c06\u8f93\u5165\u8f6c\u5316\u4e3a\u5bf9\u5e94\u76ee\u6807\u5f62\u6001\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u56db\u4e2a\u9009\u9879\u4e2d\u6700\u591a\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a"]}),"\n",(0,s.jsx)(e.h3,{id:"\u624b\u5de5\u7f16\u5199",children:"\u624b\u5de5\u7f16\u5199"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://httprunner.com/docs/user-guide/gen-tests/write-cases/",children:"https://httprunner.com/docs/user-guide/gen-tests/write-cases/"})}),"\n",(0,s.jsx)(e.h2,{id:"\u63a5\u53e3\u6d4b\u8bd5",children:"\u63a5\u53e3\u6d4b\u8bd5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"hrp run\n"})}),"\n",(0,s.jsx)(e.h3,{id:"go-test",children:"go test"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'package tests\n\nimport (\n\t"testing"\n\n\t"github.com/httprunner/httprunner/v4/hrp"\n)\n\nfunc TestCaseCallFunction(t *testing.T) {\n\ttestcase := &hrp.TestCase{\n\t\tConfig: hrp.NewConfig("run request with functions").\n\t\t\tSetBaseURL("https://postman-echo.com").\n\t\t\tWithVariables(map[string]interface{}{\n\t\t\t\t"n": 5,\n\t\t\t\t"a": 12.3,\n\t\t\t\t"b": 3.45,\n\t\t\t}).\n\t\t\tSetVerifySSL(false),\n\t\tTestSteps: []hrp.IStep{\n\t\t\thrp.NewStep("get with params").\n\t\t\t\tGET("/get").\n\t\t\t\tWithParams(map[string]interface{}{"foo1": "${gen_random_string($n)}", "foo2": "${max($a, $b)}", "foo3": "Foo3"}).\n\t\t\t\tWithHeaders(map[string]string{"User-Agent": "HttpRunnerPlus"}).\n\t\t\t\tExtract().\n\t\t\t\tWithJmesPath("body.args.foo1", "varFoo1").\n\t\t\t\tValidate().\n\t\t\t\tAssertEqual("status_code", 200, "check status code").\n\t\t\t\tAssertLengthEqual("body.args.foo1", 5, "check args foo1").\n\t\t\t\tAssertEqual("body.args.foo2", "12.3", "check args foo2").\n\t\t\t\tAssertTypeMatch("body.args.foo3", "str", "check args foo3 is type string").\n\t\t\t\tAssertStringEqual("body.args.foo3", "foo3", "check args foo3 case-insensitivity").\n\t\t\t\tAssertContains("body.args.foo3", "Foo", "check contains ").\n\t\t\t\tAssertContainedBy("body.args.foo3", "this is Foo3 test", "check contained by"), // notice: request params value will be converted to string\n\t\t\thrp.NewStep("post json data with functions").\n\t\t\t\tPOST("/post").\n\t\t\t\tWithHeaders(map[string]string{"User-Agent": "HttpRunnerPlus"}).\n\t\t\t\tWithBody(map[string]interface{}{"foo1": "${gen_random_string($n)}", "foo2": "${max($a, $b)}"}).\n\t\t\t\tValidate().\n\t\t\t\tAssertEqual("status_code", 200, "check status code").\n\t\t\t\tAssertLengthEqual("body.json.foo1", 5, "check args foo1").\n\t\t\t\tAssertEqual("body.json.foo2", 12.3, "check args foo2"),\n\t\t},\n\t}\n\n\terr := hrp.NewRunner(t).Run(testcase)\n\tif err != nil {\n\t\tt.Fatalf("run testcase error: %v", err)\n\t}\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u6027\u80fd\u6d4b\u8bd5",children:"\u6027\u80fd\u6d4b\u8bd5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"hrp boom\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"--spawn-count"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"--spawn-rate"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u591a\u673a\u8d1f\u8f7d",children:"\u591a\u673a\u8d1f\u8f7d"}),"\n",(0,s.jsx)(e.p,{children:"\u652f\u6301\u52a8\u6001\u8c03\u6574worker\u8282\u70b9\u7684\u5e76\u53d1\u7528\u6237\u6570\uff0c\uff08\u5f53\u524d\u7b56\u7565\uff1a\u5168\u90e8 worker \u5747\u5206\u5e76\u53d1\u7528\u6237\u6570\uff09"}),"\n",(0,s.jsx)(e.p,{children:"rebalance"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ready\t\tmaster \u4e0e worker \u542f\u52a8\u540e\u7684\u9ed8\u8ba4\u72b6\u6001"}),"\n",(0,s.jsx)(e.li,{children:"spawning\t\u6b63\u5728\u751f\u6210\u5e76\u53d1\u7528\u6237\uff0c\u8fbe\u5230\u6700\u5927\u5e76\u53d1\u7528\u6237\u6570\u4e4b\u524d\u7684\u72b6\u6001"}),"\n",(0,s.jsx)(e.li,{children:"running\t\u6b63\u5728\u538b\u6d4b"}),"\n",(0,s.jsx)(e.li,{children:"stopping\tworker \u505c\u6b62\u538b\u6d4b\u7684\u4e2d\u95f4\u72b6\u6001"}),"\n"]})]})}function h(t={}){const{wrapper:e}={...(0,r.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(l,{...t})}):l(t)}},28453:(t,e,n)=>{n.d(e,{R:()=>c,x:()=>i});var s=n(96540);const r={},o=s.createContext(r);function c(t){const e=s.useContext(o);return s.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function i(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:c(t.components),s.createElement(o.Provider,{value:e},t.children)}}}]);