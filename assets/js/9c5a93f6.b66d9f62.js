"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[6797],{1576:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>a});var t=n(74848),i=n(28453);const r={title:"Metric and label naming"},o=void 0,l={id:"middleware/prometheus/practices-naming",title:"Metric and label naming",description:"Metric names",source:"@site/docs/00600-middleware/prometheus/0600-practices-naming.md",sourceDirName:"00600-middleware/prometheus",slug:"/middleware/prometheus/practices-naming",permalink:"/dddtdd-docs/middleware/prometheus/practices-naming",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1720187019e3,sidebarPosition:600,frontMatter:{title:"Metric and label naming"},sidebar:"docSidebar",previous:{title:"Pushing metrics",permalink:"/dddtdd-docs/middleware/prometheus/pushing-metrics"},next:{title:"Consoles and dashboards",permalink:"/dddtdd-docs/middleware/prometheus/consoles"}},d={},a=[{value:"Metric names",id:"metric-names",level:2},{value:"Base units",id:"base-units",level:2}];function c(e){const s={code:"code",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h2,{id:"metric-names",children:"Metric names"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["should have a (single-word) application prefix relevant to the domain the metric belongs to. The prefix is sometimes referred to as ",(0,t.jsx)(s.code,{children:"namespace"})," by client libraries","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"prometheus"}),"_notifications_total (specific to the Prometheus server)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"process"}),"_cpu_seconds_total (exported by many client libraries)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"http"}),"_request_duration_seconds (for all HTTP requests)"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.li,{children:"must have a single unit (i.e. do not mix seconds with milliseconds, or seconds with bytes)"}),"\n",(0,t.jsx)(s.li,{children:"should use base units (e.g. seconds, bytes, meters - not milliseconds, megabytes, kilometers)"}),"\n",(0,t.jsxs)(s.li,{children:["should have a suffix describing the unit, in plural form. Note that an accumulating count has total as a suffix, in addition to the unit if applicable","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["http_request_duration_",(0,t.jsx)(s.code,{children:"seconds"})]}),"\n",(0,t.jsxs)(s.li,{children:["node_memory_usage_",(0,t.jsx)(s.code,{children:"bytes"})]}),"\n",(0,t.jsxs)(s.li,{children:["http_requests_",(0,t.jsx)(s.code,{children:"total"})," (for a unit-less accumulating count)"]}),"\n",(0,t.jsxs)(s.li,{children:["process_cpu_seconds_",(0,t.jsx)(s.code,{children:"total"})," (for an accumulating count with unit)"]}),"\n",(0,t.jsxs)(s.li,{children:["foobar_build_",(0,t.jsx)(s.code,{children:"info"})," (for a pseudo-metric that provides metadata about the running binary)"]}),"\n",(0,t.jsxs)(s.li,{children:["data_pipeline_last_record_processed_timestamp_",(0,t.jsx)(s.code,{children:"seconds"})," (for a timestamp that tracks the time of the latest record processed in a data processing pipeline)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["As a rule of thumb, either the ",(0,t.jsx)(s.code,{children:"sum()"})," or the ",(0,t.jsx)(s.code,{children:"avg()"})," over all dimensions of a given metric should be ",(0,t.jsx)(s.strong,{children:"meaningful"})," (though not necessarily useful). If it is not meaningful, split the data up into multiple metrics"]}),"\n",(0,t.jsx)(s.h2,{id:"base-units",children:"Base units"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Time\tseconds"}),"\n",(0,t.jsx)(s.li,{children:"Bytes\tbytes"}),"\n",(0,t.jsx)(s.li,{children:"Percent\tratio\tValues are 0\u20131 (rather than 0\u2013100). ratio is only used as a suffix for names like disk_usage_ratio. The usual metric name follows the pattern A_per_B"}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>l});var t=n(96540);const i={},r=t.createContext(i);function o(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);