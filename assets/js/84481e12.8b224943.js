"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[78804],{72032:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});var s=t(74848),i=t(28453);const a={},o="Conditional Testing",r={id:"frontend/cypress/core-concepts/conditional-testing",title:"Conditional Testing",description:"What you'll learn",source:"@site/docs/00200-frontend/cypress/050-core-concepts/070-conditional-testing.md",sourceDirName:"00200-frontend/cypress/050-core-concepts",slug:"/frontend/cypress/core-concepts/conditional-testing",permalink:"/dddtdd-docs/frontend/cypress/core-concepts/conditional-testing",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1721530274e3,sidebarPosition:70,frontMatter:{},sidebar:"docSidebar",previous:{title:"Variables and Aliases",permalink:"/dddtdd-docs/frontend/cypress/core-concepts/variables-and-aliases"},next:{title:"Cypress App",permalink:"/dddtdd-docs/frontend/cypress/core-concepts/cypress-app"}},c={},l=[{value:"What you&#39;ll learn",id:"what-youll-learn",level:2},{value:"The problem",id:"the-problem",level:2},{value:"The situations",id:"the-situations",level:2},{value:"The strategies",id:"the-strategies",level:2},{value:"A/B campaign",id:"ab-campaign",level:3},{value:"Use URL query params:",id:"use-url-query-params",level:4},{value:"Embed data in the DOM",id:"embed-data-in-the-dom",level:4}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"conditional-testing",children:"Conditional Testing"}),"\n",(0,s.jsx)(n.h2,{id:"what-youll-learn",children:"What you'll learn"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"When conditional testing is a good choice for your tests"}),"\n",(0,s.jsx)(n.li,{children:"Situations where conditional testing is impossible"}),"\n",(0,s.jsx)(n.li,{children:"Strategies to handle common scenarios of conditional testing"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"the-problem",children:"The problem"}),"\n",(0,s.jsxs)(n.p,{children:["The problem with ",(0,s.jsx)(n.strong,{children:"conditional testing"})," is that it can only be used when the state has stabilized. In modern day applications, knowing when state is stable is oftentimes impossible."]}),"\n",(0,s.jsx)(n.h2,{id:"the-situations",children:"The situations"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"only"}),' way to do conditional testing on the DOM is if you are 100% sure that the state has "settled" and there is no possible way for it to change']}),"\n",(0,s.jsx)(n.h2,{id:"the-strategies",children:"The strategies"}),"\n",(0,s.jsx)(n.h3,{id:"ab-campaign",children:"A/B campaign"}),"\n",(0,s.jsx)(n.h4,{id:"use-url-query-params",children:"Use URL query params:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// tell your back end server which campaign you want sent\r\n// so you can deterministically know what it is ahead of time\r\ncy.visit('https://example.cypress.io?campaign=A')\r\n\r\n...\r\n\r\ncy.visit('https://example.cypress.io?campaign=B')\r\n\r\n...\r\n\r\ncy.visit('https://example.cypress.io?campaign=C')\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Yes, this may require server side updates, but you have to ",(0,s.jsx)(n.strong,{children:"make an untestable app testable"})," if you want to test it!"]}),"\n",(0,s.jsx)(n.h4,{id:"embed-data-in-the-dom",children:"Embed data in the DOM"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"cy.get('html')\r\n  .should('have.attr', 'data-campaign')\r\n  .then((campaign) => {\r\n    return campaigns.test(campaign)\r\n  })\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var s=t(96540);const i={},a=s.createContext(i);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);