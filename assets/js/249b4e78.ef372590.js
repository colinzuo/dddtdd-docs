"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[16848],{12886:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>v,frontMatter:()=>t,metadata:()=>s,toc:()=>a});var r=i(74848),d=i(28453);const t={},o="Env Variables and Modes",s={id:"frontend/vue3/vite/env-and-mode",title:"Env Variables and Modes",description:"Env Variables",source:"@site/docs/00200-frontend/vue3/020-vite/070-env-and-mode.md",sourceDirName:"00200-frontend/vue3/020-vite",slug:"/frontend/vue3/vite/env-and-mode",permalink:"/dddtdd-docs/frontend/vue3/vite/env-and-mode",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1720187019e3,sidebarPosition:70,frontMatter:{},sidebar:"docSidebar",previous:{title:"Building for Production",permalink:"/dddtdd-docs/frontend/vue3/vite/build"},next:{title:"config",permalink:"/dddtdd-docs/frontend/vue3/vite/config"}},l={},a=[{value:"Env Variables",id:"env-variables",level:2},{value:".env Files",id:"env-files",level:2},{value:"IntelliSense for TypeScript",id:"intellisense-for-typescript",level:3},{value:"HTML Env Replacement",id:"html-env-replacement",level:2},{value:"Modes",id:"modes",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"env-variables-and-modes",children:"Env Variables and Modes"}),"\n",(0,r.jsx)(n.h2,{id:"env-variables",children:"Env Variables"}),"\n",(0,r.jsxs)(n.p,{children:["Vite exposes env variables on the special ",(0,r.jsx)(n.code,{children:"import.meta.env"})," object.\r\nwhich are ",(0,r.jsx)(n.strong,{children:"statically replaced"})," at build time"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"import.meta.env.MODE"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"import.meta.env.BASE_URL"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"import.meta.env.PROD"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"import.meta.env.DEV"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"env-files",children:".env Files"}),"\n",(0,r.jsxs)(n.p,{children:["Vite uses ",(0,r.jsx)(n.strong,{children:"dotenv"})," to load additional environment variables from the following files in your environment directory:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:".env                # loaded in all cases\r\n.env.local          # loaded in all cases, ignored by git\r\n.env.[mode]         # only loaded in specified mode\r\n.env.[mode].local   # only loaded in specified mode, ignored by git\n"})}),"\n",(0,r.jsxs)(n.p,{children:["To prevent accidentally leaking env variables to the client, only variables prefixed with ",(0,r.jsx)(n.code,{children:"VITE_"})," are exposed to your Vite-processed code"]}),"\n",(0,r.jsxs)(n.p,{children:["Loaded env variables are also exposed to your client source code via ",(0,r.jsx)(n.code,{children:"import.meta.env"})," as strings"]}),"\n",(0,r.jsx)(n.h3,{id:"intellisense-for-typescript",children:"IntelliSense for TypeScript"}),"\n",(0,r.jsxs)(n.p,{children:["you can create an ",(0,r.jsx)(n.code,{children:"vite-env.d.ts"})," in src directory, then augment ",(0,r.jsx)(n.code,{children:"ImportMetaEnv"})," like this"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'/// <reference types="vite/client" />\r\n\r\ninterface ImportMetaEnv {\r\n  readonly VITE_APP_TITLE: string\r\n  // more env variables...\r\n}\r\n\r\ninterface ImportMeta {\r\n  readonly env: ImportMetaEnv\r\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"html-env-replacement",children:"HTML Env Replacement"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"<h1>Vite is running in %MODE%</h1>\r\n<p>Using data from %VITE_API_URL%</p>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"modes",children:"Modes"}),"\n",(0,r.jsxs)(n.p,{children:["By default, the dev server (dev command) runs in ",(0,r.jsx)(n.code,{children:"development"})," mode and the build command runs in ",(0,r.jsx)(n.code,{children:"production"})," mode"]})]})}function v(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>s});var r=i(96540);const d={},t=r.createContext(d);function o(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);