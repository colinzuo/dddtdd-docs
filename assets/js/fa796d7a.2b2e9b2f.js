"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[67482],{6782:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>o});var s=a(74848),r=a(28453);const i={},l="Essential basic functionality",t={id:"programming-languages/python/libs/pandas/user_guide/basics",title:"Essential basic functionality",description:"Attributes and underlying data",source:"@site/docs/00400-programming-languages/python/libs/pandas/user_guide/0300-basics.md",sourceDirName:"00400-programming-languages/python/libs/pandas/user_guide",slug:"/programming-languages/python/libs/pandas/user_guide/basics",permalink:"/dddtdd-docs/programming-languages/python/libs/pandas/user_guide/basics",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:173339658e4,sidebarPosition:300,frontMatter:{},sidebar:"docSidebar",previous:{title:"Intro to data structures",permalink:"/dddtdd-docs/programming-languages/python/libs/pandas/user_guide/dsintro"},next:{title:"note",permalink:"/dddtdd-docs/programming-languages/python/libs/pandas/user_guide/note"}},d={},o=[{value:"Attributes and underlying data",id:"attributes-and-underlying-data",level:2},{value:"Accelerated operations",id:"accelerated-operations",level:2},{value:"Descriptive statistics",id:"descriptive-statistics",level:2},{value:"Index of min/max values",id:"index-of-minmax-values",level:3},{value:"Value counts (histogramming) / mode",id:"value-counts-histogramming--mode",level:3},{value:"Discretization and quantiling",id:"discretization-and-quantiling",level:3},{value:"Function application",id:"function-application",level:2},{value:"Row or column-wise function application",id:"row-or-column-wise-function-application",level:3},{value:"Reindexing and altering labels",id:"reindexing-and-altering-labels",level:2},{value:"Dropping labels from an axis",id:"dropping-labels-from-an-axis",level:3},{value:"Iteration",id:"iteration",level:2},{value:"Sorting",id:"sorting",level:2},{value:"By index",id:"by-index",level:3},{value:"By values",id:"by-values",level:3},{value:"smallest / largest values",id:"smallest--largest-values",level:3},{value:"dtypes",id:"dtypes",level:2},{value:"astype",id:"astype",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"essential-basic-functionality",children:"Essential basic functionality"}),"\n",(0,s.jsx)(n.h2,{id:"attributes-and-underlying-data",children:"Attributes and underlying data"}),"\n",(0,s.jsx)(n.p,{children:"Note, these attributes can be safely assigned to!"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"df.columns = [x.lower() for x in df.columns]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["To get the actual data inside a ",(0,s.jsx)(n.code,{children:"Index"})," or ",(0,s.jsx)(n.code,{children:"Series"}),", use the ",(0,s.jsx)(n.code,{children:".array"})," property\r\n",(0,s.jsx)(n.code,{children:"array"})," will always be an ",(0,s.jsx)(n.code,{children:"ExtensionArray"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"s.array\r\n\r\ns.index.array\n"})}),"\n",(0,s.jsxs)(n.p,{children:["If you know you need a NumPy array, use ",(0,s.jsx)(n.code,{children:"to_numpy()"})," or ",(0,s.jsx)(n.code,{children:"numpy.asarray()"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"s.to_numpy()\r\n\r\nnp.asarray(s)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"accelerated-operations",children:"Accelerated operations"}),"\n",(0,s.jsxs)(n.p,{children:["pandas has support for accelerating certain types of binary numerical and boolean operations using the ",(0,s.jsx)(n.code,{children:"numexpr"})," library and the ",(0,s.jsx)(n.code,{children:"bottleneck"})," libraries"]}),"\n",(0,s.jsx)(n.h2,{id:"descriptive-statistics",children:"Descriptive statistics"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"df.mean(0)\r\n\r\ndf.mean(1)\r\n\r\nts_stand = (df - df.mean()) / df.std()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"index-of-minmax-values",children:"Index of min/max values"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"s1.idxmin(), s1.idxmax()\r\n\r\ndf1.idxmin(axis=0)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"value-counts-histogramming--mode",children:"Value counts (histogramming) / mode"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"s.value_counts()\r\n\r\ns5.mode()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"discretization-and-quantiling",children:"Discretization and quantiling"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"factor = pd.cut(arr, 4)\r\n\r\nfactor = pd.cut(arr, [-5, -1, 0, 1, 5])\r\n\r\nfactor = pd.qcut(arr, [0, 0.25, 0.5, 0.75, 1])\n"})}),"\n",(0,s.jsx)(n.h2,{id:"function-application",children:"Function application"}),"\n",(0,s.jsx)(n.h3,{id:"row-or-column-wise-function-application",children:"Row or column-wise function application"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"df.apply(lambda x: np.mean(x))\r\n\r\ndf.apply(lambda x: np.mean(x), axis=1)\r\n\r\ndf.apply(lambda x: x.max() - x.min())\r\n\r\ndf.apply(np.cumsum)\r\n\r\ndf.apply(np.exp)\r\n\r\ntsdf.apply(lambda x: x.idxmax())\r\n\r\ndf_udf.apply(subtract_and_divide, args=(5,), divide=3)\r\n\r\ntsdf.apply(pd.Series.interpolate)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"reindexing-and-altering-labels",children:"Reindexing and altering labels"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'s.reindex(["e", "b", "f", "d"])\r\n\r\ndf.reindex(index=["c", "f", "b"], columns=["three", "two", "one"])\r\n\r\nrs = s.reindex(df.index)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"dropping-labels-from-an-axis",children:"Dropping labels from an axis"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'df.drop(["a", "d"], axis=0)\r\n\r\ndf.drop(["one"], axis=1)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"iteration",children:"Iteration"}),"\n",(0,s.jsxs)(n.p,{children:["When iterating over a ",(0,s.jsx)(n.code,{children:"Series"}),", it is regarded as ",(0,s.jsx)(n.strong,{children:"array-like"}),", and basic iteration produces the values. ",(0,s.jsx)(n.code,{children:"DataFrames"})," follow the ",(0,s.jsx)(n.strong,{children:"dict-like"})," convention of iterating over the \u201ckeys\u201d of the objects"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Series: values"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"DataFrame: column labels"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"iterrows()"}),": Iterate over the rows of a DataFrame as (index, Series) pairs. This converts the rows to Series objects, which can change the dtypes and has some performance implications."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"itertuples()"}),": Iterate over the rows of a DataFrame as namedtuples of the values. This is a lot faster than iterrows(), and is in most cases preferable to use to iterate over the values of a DataFrame"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"sorting",children:"Sorting"}),"\n",(0,s.jsx)(n.h3,{id:"by-index",children:"By index"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"unsorted_df.sort_index()\r\n\r\nunsorted_df.sort_index(ascending=False)\r\n\r\nunsorted_df.sort_index(axis=1)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"by-values",children:"By values"}),"\n",(0,s.jsxs)(n.p,{children:["The optional by parameter to ",(0,s.jsx)(n.code,{children:"DataFrame.sort_values()"})," may used to specify one or more columns to use to determine the sorted order"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'df1.sort_values(by="two")\r\n\r\ndf1[["one", "two", "three"]].sort_values(by=["one", "two"])\r\n\r\ns1.sort_values(key=lambda x: x.str.lower())\r\n\r\ndf.sort_values(by="a", key=lambda col: col.str.lower())\n'})}),"\n",(0,s.jsx)(n.h3,{id:"smallest--largest-values",children:"smallest / largest values"}),"\n",(0,s.jsxs)(n.p,{children:["Series has the ",(0,s.jsx)(n.code,{children:"nsmallest()"})," and ",(0,s.jsx)(n.code,{children:"nlargest()"})," methods which return the smallest or largest\r\nvalues"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'s.nsmallest(3)\r\n\r\ndf.nlargest(3, "a")\r\n\r\ndf.nlargest(5, ["a", "c"])\n'})}),"\n",(0,s.jsx)(n.h2,{id:"dtypes",children:"dtypes"}),"\n",(0,s.jsx)(n.h3,{id:"astype",children:"astype"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'df3.astype("float32").dtypes\r\n\r\ndft[["a", "b"]] = dft[["a", "b"]].astype(np.uint8)\r\n\r\ndft1 = dft1.astype({"a": np.bool_, "c": np.float64})\n'})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>l,x:()=>t});var s=a(96540);const r={},i=s.createContext(r);function l(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);