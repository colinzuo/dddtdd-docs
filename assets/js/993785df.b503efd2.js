"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[18940],{8280:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>a,toc:()=>o});var s=r(74848),i=r(28453);const l={},t="Read Data from MongoDB",a={id:"middleware/mongo/pymongo/read",title:"Read Data from MongoDB",description:"Specify a Query",source:"@site/docs/00600-middleware/mongo/pymongo/050-read.md",sourceDirName:"00600-middleware/mongo/pymongo",slug:"/middleware/mongo/pymongo/read",permalink:"/dddtdd-docs/middleware/mongo/pymongo/read",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1734870983e3,sidebarPosition:50,frontMatter:{},sidebar:"docSidebar",previous:{title:"Write Data to MongoDB",permalink:"/dddtdd-docs/middleware/mongo/pymongo/write-operations"},next:{title:"Optimize Queries with Indexes",permalink:"/dddtdd-docs/middleware/mongo/pymongo/indexes"}},d={},o=[{value:"Specify a Query",id:"specify-a-query",level:2},{value:"Exact Match",id:"exact-match",level:3},{value:"Comparison Operators",id:"comparison-operators",level:3},{value:"Logical Operators",id:"logical-operators",level:3},{value:"Array Operators",id:"array-operators",level:3},{value:"Element Operators",id:"element-operators",level:3},{value:"Evaluation Operators",id:"evaluation-operators",level:3},{value:"Retrieve Data",id:"retrieve-data",level:2},{value:"Specify Fields To Return",id:"specify-fields-to-return",level:2},{value:"Specify Fields to Include",id:"specify-fields-to-include",level:3},{value:"Exclude the _id Field",id:"exclude-the-_id-field",level:3},{value:"Specify Fields to Exclude",id:"specify-fields-to-exclude",level:3},{value:"Specify Documents to Return",id:"specify-documents-to-return",level:2},{value:"Count Documents",id:"count-documents",level:2},{value:"Retrieve Distinct Field Values",id:"retrieve-distinct-field-values",level:2},{value:"Access Data From a Cursor",id:"access-data-from-a-cursor",level:2}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"read-data-from-mongodb",children:"Read Data from MongoDB"}),"\n",(0,s.jsx)(n.h2,{id:"specify-a-query",children:"Specify a Query"}),"\n",(0,s.jsx)(n.h3,{id:"exact-match",children:"Exact Match"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'results = collection.find({ "color": "yellow" })\n'})}),"\n",(0,s.jsx)(n.h3,{id:"comparison-operators",children:"Comparison Operators"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$gt"}),": Greater than"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$lte"}),": Less than or Equal"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$ne"}),": Not equal"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'results = collection.find({ "rating": { "$gt" : 2 }})\n'})}),"\n",(0,s.jsx)(n.h3,{id:"logical-operators",children:"Logical Operators"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$and"}),", which returns all documents that match the conditions of all clauses"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$or"}),", which returns all documents that match the conditions of one clause"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$nor"}),", which returns all documents that do not match the conditions of any clause"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$not"}),", which returns all documents that do not match the expression"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'results = collection.find({ \r\n    "$or": [\r\n        { "qty": { "$gt": 5 }},\r\n        { "color": "yellow" }\r\n    ]\r\n})\n'})}),"\n",(0,s.jsx)(n.h3,{id:"array-operators",children:"Array Operators"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$all"}),", which returns documents with arrays that contain all elements in the query"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$elemMatch"}),", which returns documents if an element in their array field matches all conditions in the query"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$size"}),", which returns all documents with arrays of a specified size"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'results = collection.find({\r\n    "type" : { "$size": 2 }\r\n})\n'})}),"\n",(0,s.jsx)(n.h3,{id:"element-operators",children:"Element Operators"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'results = collection.find( { "color" : { "$exists": "true" }} )\n'})}),"\n",(0,s.jsx)(n.h3,{id:"evaluation-operators",children:"Evaluation Operators"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$text"}),", which performs a text search on the documents"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$regex"}),", which returns documents that match a specified regular expression"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"$mod"}),", which performs a modulo operation on the value of a field and returns documents where the remainder is a specified value"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'results = collection.find({ "name" : { "$regex" : "p{2,}" }} )\n'})}),"\n",(0,s.jsx)(n.h2,{id:"retrieve-data",children:"Retrieve Data"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'restaurant = sample_restaurants.restaurants.find_one({"cuisine": "Bakery"})\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'cursor = sample_restaurants.restaurants.find({"cuisine": "Spanish"})\n'})}),"\n",(0,s.jsx)(n.h2,{id:"specify-fields-to-return",children:"Specify Fields To Return"}),"\n",(0,s.jsx)(n.h3,{id:"specify-fields-to-include",children:"Specify Fields to Include"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'{ "<Field Name>": 1 }\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'results = restaurants.find({ "name" : "Emerald Pub"}, {"name": 1, "cuisine": 1, "borough": 1})\n'})}),"\n",(0,s.jsx)(n.h3,{id:"exclude-the-_id-field",children:"Exclude the _id Field"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'results = restaurants.find({ "name" : "Emerald Pub"}, {"_id": 0, "name": 1, "cuisine": 1, "borough": 1})\n'})}),"\n",(0,s.jsx)(n.h3,{id:"specify-fields-to-exclude",children:"Specify Fields to Exclude"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'{ "<Field Name>": 0 }\n'})}),"\n",(0,s.jsx)(n.h2,{id:"specify-documents-to-return",children:"Specify Documents to Return"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'results = restaurants.find({ "cuisine" : "Italian"}) \\\r\n                     .sort("name", pymongo.ASCENDING) \\\r\n                     .limit(5) \\\r\n                     .skip(10)\n'})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"The order in which you call these methods doesn't change the documents that are returned. The driver automatically reorders the calls to perform the sort and skip operations first, and the limit operation afterward"})}),"\n",(0,s.jsx)(n.h2,{id:"count-documents",children:"Count Documents"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'collection.count_documents({ "author": "Mike" })\n'})}),"\n",(0,s.jsx)(n.h2,{id:"retrieve-distinct-field-values",children:"Retrieve Distinct Field Values"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'results = restaurants.distinct("borough")\r\n\r\nresults = restaurants.distinct("borough", {\r\n    "cuisine": "Italian"\r\n})\n'})}),"\n",(0,s.jsx)(n.h2,{id:"access-data-from-a-cursor",children:"Access Data From a Cursor"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"results = collection.find()\r\n\r\nfor document in results:\r\n    print(document)\r\n\r\nprint(results.next())\r\n\r\nall_results = list(results)\r\n\r\nresults.close()\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>a});var s=r(96540);const i={},l=s.createContext(i);function t(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);