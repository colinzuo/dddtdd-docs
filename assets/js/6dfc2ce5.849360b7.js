"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[8067],{44292:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var i=t(74848),o=t(28453);const s={},r="config",l={id:"frontend/vue3/vite/config",title:"config",description:"Configuring Vite",source:"@site/docs/00200-frontend/vue3/020-vite/080-config.md",sourceDirName:"00200-frontend/vue3/020-vite",slug:"/frontend/vue3/vite/config",permalink:"/dddtdd-docs/frontend/vue3/vite/config",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1720187019e3,sidebarPosition:80,frontMatter:{},sidebar:"docSidebar",previous:{title:"Env Variables and Modes",permalink:"/dddtdd-docs/frontend/vue3/vite/env-and-mode"},next:{title:"Introduction",permalink:"/dddtdd-docs/frontend/vue3/router/setup/introduction"}},d={},c=[{value:"Configuring Vite",id:"configuring-vite",level:2},{value:"Config Intellisense",id:"config-intellisense",level:3},{value:"Shared Options",id:"shared-options",level:2},{value:"Server Options",id:"server-options",level:2},{value:"Build Options",id:"build-options",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"config",children:"config"}),"\n",(0,i.jsx)(n.h2,{id:"configuring-vite",children:"Configuring Vite"}),"\n",(0,i.jsx)(n.h3,{id:"config-intellisense",children:"Config Intellisense"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { defineConfig } from 'vite'\n\nexport default defineConfig({\n  // ...\n})\n"})}),"\n",(0,i.jsx)(n.h2,{id:"shared-options",children:"Shared Options"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["root: Project root directory (where ",(0,i.jsx)(n.code,{children:"index.html"})," is located)"]}),"\n",(0,i.jsx)(n.li,{children:"base: Base public path when served in development or production"}),"\n",(0,i.jsx)(n.li,{children:"mode: 'development' for serve, 'production' for build"}),"\n",(0,i.jsx)(n.li,{children:"define: Define global constant replacements"}),"\n",(0,i.jsx)(n.li,{children:"plugins: Array of plugins to use."}),"\n",(0,i.jsx)(n.li,{children:"publicDir: Directory to serve as plain static assets"}),"\n",(0,i.jsxs)(n.li,{children:["resolve.alias: Will be passed to ",(0,i.jsx)(n.code,{children:"@rollup/plugin-alias"})," as its entries option"]}),"\n",(0,i.jsx)(n.li,{children:"css.modules: Configure CSS modules behavior. The options are passed on to postcss-modules."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"server-options",children:"Server Options"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"server.port"}),"\n",(0,i.jsxs)(n.li,{children:["server.proxy: Uses ",(0,i.jsx)(n.code,{children:"http-proxy"})]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default defineConfig({\n  server: {\n    proxy: {\n      // string shorthand: http://localhost:5173/foo -> http://localhost:4567/foo\n      '/foo': 'http://localhost:4567',\n      // with options: http://localhost:5173/api/bar-> http://jsonplaceholder.typicode.com/bar\n      '/api': {\n        target: 'http://jsonplaceholder.typicode.com',\n        changeOrigin: true,\n        rewrite: (path) => path.replace(/^\\/api/, ''),\n      },\n      // with RegEx: http://localhost:5173/fallback/ -> http://jsonplaceholder.typicode.com/\n      '^/fallback/.*': {\n        target: 'http://jsonplaceholder.typicode.com',\n        changeOrigin: true,\n        rewrite: (path) => path.replace(/^\\/fallback/, ''),\n      },\n      // Using the proxy instance\n      '/api': {\n        target: 'http://jsonplaceholder.typicode.com',\n        changeOrigin: true,\n        configure: (proxy, options) => {\n          // proxy will be an instance of 'http-proxy'\n        },\n      },\n      // Proxying websockets or socket.io: ws://localhost:5173/socket.io -> ws://localhost:5174/socket.io\n      '/socket.io': {\n        target: 'ws://localhost:5174',\n        ws: true,\n      },\n    },\n  },\n})\n"})}),"\n",(0,i.jsx)(n.h2,{id:"build-options",children:"Build Options"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"build.target: Browser compatibility target for the final bundle"}),"\n",(0,i.jsx)(n.li,{children:"build.outDir: Specify the output directory (relative to project root)"}),"\n",(0,i.jsx)(n.li,{children:"build.assetsDir: Specify the directory to nest generated assets under (relative to build.outDir)"}),"\n",(0,i.jsxs)(n.li,{children:["build.assetsInlineLimit: Imported or referenced assets that are smaller than this threshold will be ",(0,i.jsx)(n.strong,{children:"inlined as base64 URLs"})," to avoid extra http requests"]}),"\n",(0,i.jsx)(n.li,{children:"build.cssCodeSplit: When enabled, CSS imported in async chunks will be inlined into the async chunk itself and inserted when the chunk is loaded"}),"\n",(0,i.jsx)(n.li,{children:"build.emptyOutDir: By default, Vite will empty the outDir on build if it is inside project root."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var i=t(96540);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);