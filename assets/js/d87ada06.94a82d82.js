"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[480],{8148:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>t});var i=s(74848),a=s(28453);const r={},d="10 minutes to pandas",l={id:"programming-languages/python/libs/pandas/user_guide/0100-10min",title:"10 minutes to pandas",description:"Object creation",source:"@site/docs/00400-programming-languages/python/libs/pandas/user_guide/0100-10min.md",sourceDirName:"00400-programming-languages/python/libs/pandas/user_guide",slug:"/programming-languages/python/libs/pandas/user_guide/0100-10min",permalink:"/dddtdd-docs/programming-languages/python/libs/pandas/user_guide/0100-10min",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1733377229e3,frontMatter:{},sidebar:"docSidebar",previous:{title:"note",permalink:"/dddtdd-docs/programming-languages/python/libs/pandas/user_guide/note"},next:{title:"fixture",permalink:"/dddtdd-docs/programming-languages/python/libs/pytest/fixture"}},c={},t=[{value:"Object creation",id:"object-creation",level:2},{value:"Viewing data",id:"viewing-data",level:2},{value:"Selection",id:"selection",level:2},{value:"Getitem ([])",id:"getitem-",level:3},{value:"Selection by label",id:"selection-by-label",level:3},{value:"Selection by position",id:"selection-by-position",level:3},{value:"Boolean indexing",id:"boolean-indexing",level:3},{value:"Setting",id:"setting",level:3},{value:"Missing data",id:"missing-data",level:2},{value:"Operations",id:"operations",level:2},{value:"Stats",id:"stats",level:3},{value:"Merge",id:"merge",level:2},{value:"Concat",id:"concat",level:3}];function o(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"10-minutes-to-pandas",children:"10 minutes to pandas"}),"\n",(0,i.jsx)(n.h2,{id:"object-creation",children:"Object creation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"s = pd.Series([1, 3, 5, np.nan, 6, 8])\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'dates = pd.date_range("20130101", periods=6)\r\n\r\ndf = pd.DataFrame(np.random.randn(6, 4), index=dates, columns=list("ABCD"))\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df2 = pd.DataFrame(\r\n    {\r\n        "A": 1.0,\r\n        "B": pd.Timestamp("20130102"),\r\n        "C": pd.Series(1, index=list(range(4)), dtype="float32"),\r\n        "D": np.array([3] * 4, dtype="int32"),\r\n        "E": pd.Categorical(["test", "train", "test", "train"]),\r\n        "F": "foo",\r\n    }\r\n)\r\n\r\ndf2.dtypes\r\nOut[11]: \r\nA          float64\r\nB    datetime64[s]\r\nC          float32\r\nD            int32\r\nE         category\r\nF           object\r\ndtype: object\n'})}),"\n",(0,i.jsx)(n.h2,{id:"viewing-data",children:"Viewing data"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df.head()\r\n\r\ndf.tail(3)\r\n\r\ndf.index\r\n\r\ndf.columns\r\n\r\ndf.to_numpy()\r\n\r\ndf.describe()\r\n\r\ndf.T\r\n\r\ndf.sort_index(axis=1, ascending=False)\r\n\r\ndf.sort_values(by="B")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"selection",children:"Selection"}),"\n",(0,i.jsx)(n.h3,{id:"getitem-",children:"Getitem ([])"}),"\n",(0,i.jsxs)(n.p,{children:["For a ",(0,i.jsx)(n.code,{children:"DataFrame"}),", passing ",(0,i.jsx)(n.strong,{children:"a single label"})," selects a columns and yields a ",(0,i.jsx)(n.code,{children:"Series"})," equivalent to ",(0,i.jsx)(n.code,{children:"df.A"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df["A"]\n'})}),"\n",(0,i.jsxs)(n.p,{children:["For a ",(0,i.jsx)(n.code,{children:"DataFrame"}),", passing a ",(0,i.jsx)(n.strong,{children:"slice :"})," selects matching rows"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df[0:3]\r\n\r\ndf["20130102":"20130104"]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"selection-by-label",children:"Selection by label"}),"\n",(0,i.jsxs)(n.p,{children:["Selecting ",(0,i.jsx)(n.strong,{children:"a row"})," matching ",(0,i.jsx)(n.strong,{children:"a label"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"df.loc[dates[0]]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Selecting ",(0,i.jsx)(n.strong,{children:"all rows (:)"})," with a ",(0,i.jsx)(n.strong,{children:"select column labels"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df.loc[:, ["A", "B"]]\n'})}),"\n",(0,i.jsxs)(n.p,{children:["For label slicing, ",(0,i.jsx)(n.strong,{children:"both endpoints are included"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df.loc["20130102":"20130104", ["A", "B"]]\r\nOut[29]: \r\n                   A         B\r\n2013-01-02  1.212112 -0.173215\r\n2013-01-03 -0.861849 -2.104569\r\n2013-01-04  0.721555 -0.706771\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Selecting a single row and column label returns ",(0,i.jsx)(n.strong,{children:"a scalar"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df.loc[dates[0], "A"]\n'})}),"\n",(0,i.jsxs)(n.p,{children:["For getting ",(0,i.jsx)(n.strong,{children:"fast access"})," to a scalar (equivalent to the prior method)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df.at[dates[0], "A"]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"selection-by-position",children:"Selection by position"}),"\n",(0,i.jsxs)(n.p,{children:["Select via the position of the passed ",(0,i.jsx)(n.strong,{children:"integers"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"df.iloc[3]\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Integer slices"})," acts similar to NumPy/Python:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"df.iloc[3:5, 0:2]\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Lists of integer"})," position locations:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"df.iloc[[1, 2, 4], [0, 2]]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.strong,{children:"slicing rows"})," explicitly:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"df.iloc[1:3, :]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.strong,{children:"slicing columns"})," explicitly:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"df.iloc[:, 1:3]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For getting ",(0,i.jsx)(n.strong,{children:"a value"})," explicitly:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"df.iloc[1, 1]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For getting ",(0,i.jsx)(n.strong,{children:"fast access"})," to a scalar (equivalent to the prior method):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"df.iat[1, 1]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"boolean-indexing",children:"Boolean indexing"}),"\n",(0,i.jsxs)(n.p,{children:["Select rows where ",(0,i.jsx)(n.code,{children:"df.A"})," is greater than 0"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df[df["A"] > 0]\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Using ",(0,i.jsx)(n.code,{children:"isin()"})," method for filtering:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df2[df2["E"].isin(["two", "four"])]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"setting",children:"Setting"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df["F"] = s1\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Setting by assigning with a ",(0,i.jsx)(n.code,{children:"NumPy array"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df.loc[:, "D"] = np.array([5] * len(df))\n'})}),"\n",(0,i.jsx)(n.h2,{id:"missing-data",children:"Missing data"}),"\n",(0,i.jsxs)(n.p,{children:["Reindexing allows you to ",(0,i.jsx)(n.strong,{children:"change/add/delete the index"})," on a specified axis. This returns a copy of the data:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df1 = df.reindex(index=dates[0:4], columns=list(df.columns) + ["E"])\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"DataFrame.dropna()"})," drops any rows that have missing data:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'df1.dropna(how="any")\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"DataFrame.fillna()"})," fills missing data:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"df1.fillna(value=5)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"operations",children:"Operations"}),"\n",(0,i.jsx)(n.h3,{id:"stats",children:"Stats"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"df.mean()\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"df.mean(axis=1)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"merge",children:"Merge"}),"\n",(0,i.jsx)(n.h3,{id:"concat",children:"Concat"}),"\n",(0,i.jsxs)(n.p,{children:["Concatenating pandas objects together ",(0,i.jsx)(n.strong,{children:"row-wise"})," with ",(0,i.jsx)(n.code,{children:"concat()"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"pieces = [df[:3], df[3:7], df[7:]]\r\n\r\npd.concat(pieces)\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"Adding a column to a DataFrame is relatively fast. However, adding a row requires a copy, and may be expensive. We recommend passing a pre-built list of records to the DataFrame constructor instead of building a DataFrame by iteratively appending records to it"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>l});var i=s(96540);const a={},r=i.createContext(a);function d(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);