"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[9512],{297:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var s=r(74848),d=r(28453);const l={},t=void 0,o={id:"frontend/vue3/element-plus/components/feedback/drawer",title:"drawer",description:"drawer.ts",source:"@site/docs/00200-frontend/vue3/element-plus/components/0400-feedback/0200-drawer.md",sourceDirName:"00200-frontend/vue3/element-plus/components/0400-feedback",slug:"/frontend/vue3/element-plus/components/feedback/drawer",permalink:"/dddtdd-docs/frontend/vue3/element-plus/components/feedback/drawer",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1720187019e3,sidebarPosition:200,frontMatter:{},sidebar:"docSidebar",previous:{title:"dialog",permalink:"/dddtdd-docs/frontend/vue3/element-plus/components/feedback/dialog"},next:{title:"loading",permalink:"/dddtdd-docs/frontend/vue3/element-plus/components/feedback/loading"}},i={},c=[{value:"drawer.ts",id:"drawerts",level:2},{value:"drawerProps",id:"drawerprops",level:3},{value:"drawerEmits",id:"draweremits",level:3},{value:"drawer.vue",id:"drawervue",level:2},{value:"setup",id:"setup",level:3},{value:"template",id:"template",level:3}];function a(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"drawerts",children:"drawer.ts"}),"\n",(0,s.jsx)(n.h3,{id:"drawerprops",children:"drawerProps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["direction: ",(0,s.jsx)(n.code,{children:"values: ['ltr', 'rtl', 'ttb', 'btt']"})]}),"\n",(0,s.jsxs)(n.li,{children:["size: ",(0,s.jsx)(n.code,{children:"default: '30%'"})]}),"\n",(0,s.jsxs)(n.li,{children:["withHeader: ",(0,s.jsx)(n.code,{children:"default: true"})]}),"\n",(0,s.jsxs)(n.li,{children:["modalFade: ",(0,s.jsx)(n.code,{children:"default: true"})]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import { dialogEmits, dialogProps } from '@element-plus/components/dialog'\n\nexport const drawerProps = buildProps({\n  ...dialogProps,\n  direction: {\n"})}),"\n",(0,s.jsx)(n.h3,{id:"draweremits",children:"drawerEmits"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"export const drawerEmits = dialogEmits"})}),"\n",(0,s.jsx)(n.h2,{id:"drawervue",children:"drawer.vue"}),"\n",(0,s.jsx)(n.h3,{id:"setup",children:"setup"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"    const drawerRef = ref<HTMLElement>()\n    const focusStartRef = ref<HTMLElement>()\n    const ns = useNamespace('drawer')\n    const { t } = useLocale()\n\n    const isHorizontal = computed(\n      () => props.direction === 'rtl' || props.direction === 'ltr'\n    )\n    const drawerSize = computed(() => addUnit(props.size))\n"})}),"\n",(0,s.jsx)(n.h3,{id:"template",children:"template"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5728transition\u65f6\u5019\u52a0\u4e86\u52a8\u753b"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:"    <transition\n      :name=\"ns.b('fade')\"\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u76f4\u63a5\u5728overlay\u4e0a\u8bbe\u7f6e\u4e86onClick\u5904\u7406"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'      <el-overlay\n        v-show="visible"\n        :mask="modal"\n        :overlay-class="modalClass"\n        :z-index="zIndex"\n        @click="onModalClick"\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u76f4\u63a5\u5728focus trap\u4e0a\u8bbe\u7f6e",(0,s.jsx)(n.code,{children:"focus-trap-el"})," (dialog\u662f\u5728dialog-content\u5185\u901a\u8fc7inject\u5f97\u5230\u540e\u8bbe\u7f6e\u7684)"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'        <el-focus-trap\n          loop\n          :trapped="visible"\n          :focus-trap-el="drawerRef"\n          :focus-start-el="focusStartRef"\n          @release-requested="onCloseRequested"\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u8bbe\u7f6eclass\uff0c\u8bbe\u7f6e",(0,s.jsx)(n.code,{children:"width"}),"\u6216",(0,s.jsx)(n.code,{children:"height"}),"\uff0c\u5bf9click\u4e8b\u4ef6stop propogation (\u6240\u4ee5\u524d\u9762overlay\u90a3\u91cc\u6ca1\u7528useSameTarget)"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'          <div\n            ref="drawerRef"\n            v-bind="$attrs"\n            :class="[ns.b(), direction, visible && \'open\', customClass]"\n            :style="\n              isHorizontal ? \'width: \' + drawerSize : \'height: \' + drawerSize\n            "\n            role="dialog"\n            @click.stop\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u8bbe\u7f6eslots: ",(0,s.jsx)(n.code,{children:"header"}),", ",(0,s.jsx)(n.code,{children:"default"}),", ",(0,s.jsx)(n.code,{children:"footer"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"packages\\theme-chalk\\src\\drawer.scss"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:"@include b(drawer) {\n  position: absolute;\n  box-sizing: border-box;\n  background-color: getCssVar('drawer', 'bg-color');\n  display: flex;\n  flex-direction: column;\n\n  &.ltr,\n  &.rtl {\n    height: 100%;\n    top: 0;\n    bottom: 0;\n  }\n\n  &.ltr {\n    left: 0;\n  }\n\n  &.rtl {\n    right: 0;\n  }\n"})})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>o});var s=r(96540);const d={},l=s.createContext(d);function t(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);