"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[5235],{88286:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>c,toc:()=>d});var i=s(74848),r=s(28453);const t={},o="Plugins",c={id:"frontend/cypress/tooling/plugins-guide",title:"Plugins",description:"Use Cases",source:"@site/docs/00200-frontend/cypress/070-tooling/020-plugins-guide.md",sourceDirName:"00200-frontend/cypress/070-tooling",slug:"/frontend/cypress/tooling/plugins-guide",permalink:"/dddtdd-docs/frontend/cypress/tooling/plugins-guide",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1721530274e3,sidebarPosition:20,frontMatter:{},sidebar:"docSidebar",previous:{title:"IDE Integration",permalink:"/dddtdd-docs/frontend/cypress/tooling/IDE-integration"},next:{title:"TypeScript",permalink:"/dddtdd-docs/frontend/cypress/tooling/typescript-support"}},l={},d=[{value:"Use Cases",id:"use-cases",level:2},{value:"Run Lifecycle",id:"run-lifecycle",level:3},{value:"Spec Lifecycle",id:"spec-lifecycle",level:3},{value:"Browser Launching",id:"browser-launching",level:3},{value:"cy.task",id:"cytask",level:3},{value:"Using a plugin",id:"using-a-plugin",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"plugins",children:"Plugins"}),"\n",(0,i.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,i.jsx)(n.h3,{id:"run-lifecycle",children:"Run Lifecycle"}),"\n",(0,i.jsxs)(n.p,{children:["The events ",(0,i.jsx)(n.code,{children:"before:run"})," and ",(0,i.jsx)(n.code,{children:"after:run"})," occur before and after a run, respectively"]}),"\n",(0,i.jsx)(n.h3,{id:"spec-lifecycle",children:"Spec Lifecycle"}),"\n",(0,i.jsxs)(n.p,{children:["The events ",(0,i.jsx)(n.code,{children:"before:spec"})," and ",(0,i.jsx)(n.code,{children:"after:spec"})," run before and after a single spec is run, respectively"]}),"\n",(0,i.jsx)(n.h3,{id:"browser-launching",children:"Browser Launching"}),"\n",(0,i.jsxs)(n.p,{children:["The event ",(0,i.jsx)(n.code,{children:"before:browser:launch"})," can be used to modify the launch arguments for each particular browser"]}),"\n",(0,i.jsx)(n.h3,{id:"cytask",children:"cy.task"}),"\n",(0,i.jsxs)(n.p,{children:["The event task is used in conjunction with the ",(0,i.jsx)(n.code,{children:"cy.task()"})," command. It allows you to write arbitrary code in Node to accomplish tasks that aren't possible in the browser."]}),"\n",(0,i.jsx)(n.p,{children:"You can use the task event to do things like:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Manipulating a database (seeding, reading, writing, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Storing state in Node that you want persisted (since the driver is fully refreshed on visits)"}),"\n",(0,i.jsx)(n.li,{children:"Performing parallel tasks (like making multiple http requests outside of Cypress)"}),"\n",(0,i.jsx)(n.li,{children:"Running an external process (like spinning up a Webdriver instance of another browser like Safari or puppeteer)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"using-a-plugin",children:"Using a plugin"}),"\n",(0,i.jsx)(n.p,{children:"There are two ways to use a plugin in Cypress:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["As of Cypress version 10.0.0, you will need to add your plugin to the ",(0,i.jsx)(n.code,{children:"setupNodeEvents"})," function in the Cypress configuration."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { defineConfig } from 'cypress'\r\n\r\nexport default defineConfig({\r\n  // setupNodeEvents can be defined in either\r\n  // the e2e or component configuration\r\n  e2e: {\r\n    setupNodeEvents(on, config) {\r\n      // bind to the event we care about\r\n      on('<event>', (arg1, arg2) => {\r\n        // plugin stuff here\r\n      })\r\n    },\r\n  },\r\n})\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var i=s(96540);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);