"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[2367],{89164:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>l,frontMatter:()=>a,metadata:()=>s,toc:()=>i});var n=r(74848),o=r(28453);const a={},d="Route Meta Fields",s={id:"frontend/vue3/router/advanced/meta",title:"Route Meta Fields",description:"meta property which accepts an object of properties and can be accessed on the route location and navigation guards",source:"@site/docs/00200-frontend/vue3/030-router/030-advanced/020-meta.md",sourceDirName:"00200-frontend/vue3/030-router/030-advanced",slug:"/frontend/vue3/router/advanced/meta",permalink:"/dddtdd-docs/frontend/vue3/router/advanced/meta",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1720187019e3,sidebarPosition:20,frontMatter:{},sidebar:"docSidebar",previous:{title:"Navigation Guards",permalink:"/dddtdd-docs/frontend/vue3/router/advanced/navigation-guards"},next:{title:"Data Fetching",permalink:"/dddtdd-docs/frontend/vue3/router/advanced/data-fetching"}},c={},i=[{value:"TypeScript",id:"typescript",level:2}];function u(e){const t={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"route-meta-fields",children:"Route Meta Fields"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"meta property"})," which accepts an object of properties and can be ",(0,n.jsx)(t.strong,{children:"accessed on the route location and navigation guards"})]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"const routes = [\r\n  {\r\n    path: '/posts',\r\n    component: PostsLayout,\r\n    children: [\r\n      {\r\n        path: 'new',\r\n        component: PostsNew,\r\n        // only authenticated users can create posts\r\n        meta: { requiresAuth: true },\r\n      },\r\n      {\r\n        path: ':id',\r\n        component: PostsDetail,\r\n        // anybody can read a post\r\n        meta: { requiresAuth: false },\r\n      },\r\n    ],\r\n  },\r\n]\n"})}),"\n",(0,n.jsxs)(t.p,{children:["All route records matched by a route are exposed on the ",(0,n.jsx)(t.code,{children:"route"})," object (and also route objects in navigation guards) as the ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"route.matched"})})," Array. We could loop through that array to check all meta fields, but Vue Router also provides you a ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"route.meta"})})," that is a non-recursive ",(0,n.jsx)(t.strong,{children:"merge of all meta fields from parent to child"})]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"router.beforeEach((to, from) => {\r\n  // instead of having to check every route record with\r\n  // to.matched.some(record => record.meta.requiresAuth)\r\n  if (to.meta.requiresAuth && !auth.isLoggedIn()) {\r\n    // this route requires auth, check if logged in\r\n    // if not, redirect to login page.\r\n    return {\r\n      path: '/login',\r\n      // save the location we were at to come back later\r\n      query: { redirect: to.fullPath },\r\n    }\r\n  }\r\n})\n"})}),"\n",(0,n.jsx)(t.h2,{id:"typescript",children:"TypeScript"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-ts",children:"// This can be directly added to any of your `.ts` files like `router.ts`\r\n// It can also be added to a `.d.ts` file, in which case you will need to add an export\r\n// to ensure it is treated as a module\r\nexport {}\r\n\r\nimport 'vue-router'\r\n\r\ndeclare module 'vue-router' {\r\n  interface RouteMeta {\r\n    // is optional\r\n    isAdmin?: boolean\r\n    // must be declared by every route\r\n    requiresAuth: boolean\r\n  }\r\n}\n"})})]})}function l(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>d,x:()=>s});var n=r(96540);const o={},a=n.createContext(o);function d(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);