"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[5485],{61292:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>l,frontMatter:()=>o,metadata:()=>c,toc:()=>p});var s=t(74848),i=t(28453);const o={},r="Cypress Component Testing",c={id:"frontend/cypress/component-testing/getting-started",title:"Cypress Component Testing",description:"Configuring Component Testing",source:"@site/docs/00200-frontend/cypress/040-component-testing/020-getting-started.md",sourceDirName:"00200-frontend/cypress/040-component-testing",slug:"/frontend/cypress/component-testing/getting-started",permalink:"/dddtdd-docs/frontend/cypress/component-testing/getting-started",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1721530274e3,sidebarPosition:20,frontMatter:{},sidebar:"docSidebar",previous:{title:"Cypress Component Testing",permalink:"/dddtdd-docs/frontend/cypress/component-testing/overview"},next:{title:"Styling Components",permalink:"/dddtdd-docs/frontend/cypress/component-testing/styling-components"}},d={},p=[{value:"Configuring Component Testing",id:"configuring-component-testing",level:2},{value:"Config Files",id:"config-files",level:3},{value:"Writing Your First Test",id:"writing-your-first-test",level:2},{value:"Running the Test",id:"running-the-test",level:2},{value:"Passing Props to Components",id:"passing-props-to-components",level:3},{value:"Testing Interactions",id:"testing-interactions",level:3},{value:"Testing Components with Events",id:"testing-components-with-events",level:2},{value:"Using Spies",id:"using-spies",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"cypress-component-testing",children:"Cypress Component Testing"}),"\n",(0,s.jsx)(n.h2,{id:"configuring-component-testing",children:"Configuring Component Testing"}),"\n",(0,s.jsx)(n.h3,{id:"config-files",children:"Config Files"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://docs.cypress.io/img/guides/component-testing/scaffolded-files.jpg",alt:"scaffolded-files"})}),"\n",(0,s.jsx)(n.h2,{id:"writing-your-first-test",children:"Writing Your First Test"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import Stepper from './Stepper.vue'\r\n\r\ndescribe('<Stepper />', () => {\r\n  it('mounts', () => {\r\n    // see: https://on.cypress.io/mounting-vue\r\n    cy.mount(Stepper)\r\n  })\r\n})\n"})}),"\n",(0,s.jsx)(n.h2,{id:"running-the-test",children:"Running the Test"}),"\n",(0,s.jsxs)(n.p,{children:["There are various ways to select items from the DOM using Cypress. We will use ",(0,s.jsx)(n.code,{children:"cy.get()"}),", which allows us to pass in a CSS-like selector"]}),"\n",(0,s.jsx)(n.h3,{id:"passing-props-to-components",children:"Passing Props to Components"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"it('supports a \"count\" prop to set the value', () => {\r\n  cy.mount(Stepper, { props: { count: 100 } })\r\n  cy.get('[data-cy=counter]').should('have.text', '100')\r\n})\n"})}),"\n",(0,s.jsx)(n.h3,{id:"testing-interactions",children:"Testing Interactions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"it('when the increment button is pressed, the counter is incremented', () => {\r\n  cy.mount(Stepper)\r\n  cy.get('[data-cy=increment]').click()\r\n  cy.get('[data-cy=counter]').should('have.text', '1')\r\n})\r\n\r\nit('when the decrement button is pressed, the counter is decremented', () => {\r\n  cy.mount(Stepper)\r\n  cy.get('[data-cy=decrement]').click()\r\n  cy.get('[data-cy=counter]').should('have.text', '-1')\r\n})\n"})}),"\n",(0,s.jsx)(n.h2,{id:"testing-components-with-events",children:"Testing Components with Events"}),"\n",(0,s.jsx)(n.h3,{id:"using-spies",children:"Using Spies"}),"\n",(0,s.jsxs)(n.p,{children:["We use ",(0,s.jsx)(n.code,{children:"cy.get()"}),' to grab the alias to the spy (by prepending an "',(0,s.jsx)(n.code,{children:"@"}),'" to the alias name)']}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"it('clicking + fires a change event with the incremented value', () => {\r\n  const onChangeSpy = cy.spy().as('onChangeSpy')\r\n  cy.mount(Stepper, { props: { onChange: onChangeSpy } })\r\n  cy.get('[data-cy=increment]').click()\r\n  cy.get('@onChangeSpy').should('have.been.calledWith', 1)\r\n})\n"})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var s=t(96540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);