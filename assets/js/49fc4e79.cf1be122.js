"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[65394],{50675:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>a});var s=n(74848),r=n(28453);const i={},l="Retry-ability",o={id:"frontend/cypress/core-concepts/retry-ability",title:"Retry-ability",description:"What you'll learn",source:"@site/docs/00200-frontend/cypress/050-core-concepts/040-retry-ability.md",sourceDirName:"00200-frontend/cypress/050-core-concepts",slug:"/frontend/cypress/core-concepts/retry-ability",permalink:"/dddtdd-docs/frontend/cypress/core-concepts/retry-ability",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1721530274e3,sidebarPosition:40,frontMatter:{},sidebar:"docSidebar",previous:{title:"Test Isolation",permalink:"/dddtdd-docs/frontend/cypress/core-concepts/test-isolation"},next:{title:"Interacting with Elements",permalink:"/dddtdd-docs/frontend/cypress/core-concepts/interacting-with-elements"}},d={},a=[{value:"What you&#39;ll learn",id:"what-youll-learn",level:2},{value:"Commands, Queries and Assertions",id:"commands-queries-and-assertions",level:2},{value:"Multiple assertions",id:"multiple-assertions",level:2},{value:"Implicit Assertions",id:"implicit-assertions",level:2},{value:"Timeouts",id:"timeouts",level:2},{value:"Increase time to retry",id:"increase-time-to-retry",level:3},{value:"Disable retry",id:"disable-retry",level:3},{value:"Only queries are retried",id:"only-queries-are-retried",level:2}];function c(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"retry-ability",children:"Retry-ability"}),"\n",(0,s.jsx)(t.h2,{id:"what-youll-learn",children:"What you'll learn"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"How Cypress retries commands and assertions"}),"\n",(0,s.jsx)(t.li,{children:"When commands are retried and when they are not"}),"\n",(0,s.jsx)(t.li,{children:"How to address some situations of flaky tests"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"commands-queries-and-assertions",children:"Commands, Queries and Assertions"}),"\n",(0,s.jsx)(t.p,{children:"the different rules by which they operate."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Queries link up, ",(0,s.jsx)(t.strong,{children:"retrying the entire chain together"}),"."]}),"\n",(0,s.jsx)(t.li,{children:"Assertions are a type of query that's specially displayed in the command log."}),"\n",(0,s.jsxs)(t.li,{children:["Non-queries only ",(0,s.jsx)(t.strong,{children:"execute once"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"multiple-assertions",children:"Multiple assertions"}),"\n",(0,s.jsx)(t.p,{children:"Queries and assertions are always executed in order, and always retry 'from the top'."}),"\n",(0,s.jsx)(t.h2,{id:"implicit-assertions",children:"Implicit Assertions"}),"\n",(0,s.jsx)(t.p,{children:"Cypress tries to act like a human user would using the browser."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Can a user click on the element?"}),"\n",(0,s.jsx)(t.li,{children:"Is the element invisible?"}),"\n",(0,s.jsx)(t.li,{children:"Is the element behind another element?"}),"\n",(0,s.jsx)(t.li,{children:"Does the element have the disabled attribute?"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"timeouts",children:"Timeouts"}),"\n",(0,s.jsx)(t.h3,{id:"increase-time-to-retry",children:"Increase time to retry"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"// we've modified the timeout which affects default + added assertions\r\ncy.get('[data-testid=\"mobile-nav\"]', { timeout: 10000 })\r\n  .should('be.visible')\r\n  .and('contain', 'Home')\n"})}),"\n",(0,s.jsx)(t.h3,{id:"disable-retry",children:"Disable retry"}),"\n",(0,s.jsxs)(t.p,{children:["Overriding the timeout to ",(0,s.jsx)(t.code,{children:"0"})," will essentially disable retrying the query, since it will spend ",(0,s.jsx)(t.code,{children:"0"})," milliseconds retrying"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"// check synchronously that the element does not exist (no retry)\r\n// for example just after a server-side render\r\ncy.get('[data-testid=\"ssr-error\"]', { timeout: 0 }).should('not.exist')\n"})}),"\n",(0,s.jsx)(t.h2,{id:"only-queries-are-retried",children:"Only queries are retried"}),"\n",(0,s.jsxs)(t.p,{children:["Cypress will retry any queries ",(0,s.jsx)(t.strong,{children:"leading up to a command"}),", and retry any assertions ",(0,s.jsx)(t.strong,{children:"after a command"}),", but commands themselves only execute once"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>o});var s=n(96540);const r={},i=s.createContext(r);function l(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);