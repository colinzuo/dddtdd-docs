"use strict";(self.webpackChunkdoc_center=self.webpackChunkdoc_center||[]).push([[1776],{31073:(e,c,l)=>{l.r(c),l.d(c,{assets:()=>s,contentTitle:()=>o,default:()=>j,frontMatter:()=>a,metadata:()=>r,toc:()=>i});var t=l(74848),n=l(28453);const a={title:"Call Protocol"},o=void 0,r={id:"programming-languages/python/c-api/abstract-call",title:"Call Protocol",description:"The tp_call Protocol",source:"@site/docs/00400-programming-languages/python/c-api/0720-abstract-call.md",sourceDirName:"00400-programming-languages/python/c-api",slug:"/programming-languages/python/c-api/abstract-call",permalink:"/dddtdd-docs/programming-languages/python/c-api/abstract-call",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Colin Zuo",lastUpdatedAt:1720187019e3,sidebarPosition:720,frontMatter:{title:"Call Protocol"},sidebar:"docSidebar",previous:{title:"Object Protocol",permalink:"/dddtdd-docs/programming-languages/python/c-api/abstract-object"},next:{title:"Number Protocol",permalink:"/dddtdd-docs/programming-languages/python/c-api/abstract-number"}},s={},i=[{value:"The tp_call Protocol",id:"the-tp_call-protocol",level:2},{value:"The Vectorcall Protocol",id:"the-vectorcall-protocol",level:2},{value:"Object Calling API",id:"object-calling-api",level:2},{value:"Call Support API",id:"call-support-api",level:2}];function d(e){const c={a:"a",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.h2,{id:"the-tp_call-protocol",children:"The tp_call Protocol"}),"\n",(0,t.jsxs)(c.p,{children:["Instances of classes that set ",(0,t.jsx)(c.code,{children:"tp_call"})," are callable."]}),"\n",(0,t.jsx)(c.p,{children:(0,t.jsx)(c.code,{children:"PyObject *tp_call(PyObject *callable, PyObject *args, PyObject *kwargs);"})}),"\n",(0,t.jsx)(c.h2,{id:"the-vectorcall-protocol",children:"The Vectorcall Protocol"}),"\n",(0,t.jsxs)(c.p,{children:["The vectorcall protocol was introduced in ",(0,t.jsx)(c.a,{href:"https://peps.python.org/pep-0590/",children:"PEP 590"})," as an additional protocol for making calls more efficient"]}),"\n",(0,t.jsx)(c.p,{children:(0,t.jsx)(c.code,{children:"typedef PyObject *(*vectorcallfunc)(PyObject *callable, PyObject *const *args, size_t nargsf, PyObject *kwnames)"})}),"\n",(0,t.jsx)(c.h2,{id:"object-calling-api",children:"Object Calling API"}),"\n",(0,t.jsxs)(c.ul,{children:["\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_Call(PyObject *callable, PyObject *args, PyObject *kwargs)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_CallNoArgs(PyObject *callable)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_CallOneArg(PyObject *callable, PyObject *arg)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_CallObject(PyObject *callable, PyObject *args)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_CallFunction(PyObject *callable, const char *format, ...)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_CallMethod(PyObject *obj, const char *name, const char *format, ...)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_CallFunctionObjArgs(PyObject *callable, ...)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_CallMethodObjArgs(PyObject *obj, PyObject *name, ...)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_CallMethodNoArgs(PyObject *obj, PyObject *name)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_CallMethodOneArg(PyObject *obj, PyObject *name, PyObject *arg)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_Vectorcall(PyObject *callable, PyObject *const *args, size_t nargsf, PyObject *kwnames)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_VectorcallDict(PyObject *callable, PyObject *const *args, size_t nargsf, PyObject *kwdict)"})}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"PyObject *PyObject_VectorcallMethod(PyObject *name, PyObject *const *args, size_t nargsf, PyObject *kwnames)"})}),"\n"]}),"\n",(0,t.jsx)(c.h2,{id:"call-support-api",children:"Call Support API"}),"\n",(0,t.jsxs)(c.ul,{children:["\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.code,{children:"int PyCallable_Check(PyObject *o)"})}),"\n"]})]})}function j(e={}){const{wrapper:c}={...(0,n.R)(),...e.components};return c?(0,t.jsx)(c,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,c,l)=>{l.d(c,{R:()=>o,x:()=>r});var t=l(96540);const n={},a=t.createContext(n);function o(e){const c=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(c):{...c,...e}}),[c,e])}function r(e){let c;return c=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),t.createElement(a.Provider,{value:c},e.children)}}}]);